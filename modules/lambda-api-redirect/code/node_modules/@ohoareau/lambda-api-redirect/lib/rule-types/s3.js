"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_1 = require("@ohoareau/aws");
async function s3({ bucket, prefix = undefined, path }) {
    try {
        const data = await aws_1.s3.fromJsonFile(bucket, `${prefix ? prefix : ''}${prefix ? '/' : ''}${path}`);
        if (!data || !data.location)
            return undefined;
        return data;
    }
    catch (e) {
        console.error(e);
        return undefined;
    }
}
exports.s3 = s3;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcnVsZS10eXBlcy9zMy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUEwQztBQUVuQyxLQUFLLFVBQVUsRUFBRSxDQUFDLEVBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxTQUFTLEVBQUUsSUFBSSxFQUFrRDtJQUN4RyxJQUFJO1FBQ0EsTUFBTSxJQUFJLEdBQUcsTUFBTSxRQUFLLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3BHLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtZQUFFLE9BQU8sU0FBUyxDQUFDO1FBQzlDLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsT0FBTyxTQUFTLENBQUM7S0FDcEI7QUFDTCxDQUFDO0FBVEQsZ0JBU0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3MzIGFzIGF3c3MzfSBmcm9tICdAb2hvYXJlYXUvYXdzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHMzKHtidWNrZXQsIHByZWZpeCA9IHVuZGVmaW5lZCwgcGF0aH06IHtidWNrZXQ6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nLCBwYXRoOiBzdHJpbmd9KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGF3c3MzLmZyb21Kc29uRmlsZShidWNrZXQsIGAke3ByZWZpeCA/IHByZWZpeCA6ICcnfSR7cHJlZml4ID8gJy8nIDogJyd9JHtwYXRofWApO1xuICAgICAgICBpZiAoIWRhdGEgfHwgIWRhdGEubG9jYXRpb24pIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59Il19
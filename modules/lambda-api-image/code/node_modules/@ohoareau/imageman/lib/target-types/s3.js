"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let AWS = undefined;
async function s3(img, { location }) {
    const [bucket, key] = location.split('/');
    AWS = AWS || require('aws-sdk');
    const s3 = new AWS.S3();
    return s3.putObject({
        Bucket: bucket,
        Key: key,
        Body: await img.toBuffer(),
    }).promise();
}
exports.s3 = s3;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGFyZ2V0LXR5cGVzL3MzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxHQUFHLEdBQVEsU0FBUyxDQUFDO0FBRWxCLEtBQUssVUFBVSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUMsUUFBUSxFQUFNO0lBQ3pDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQyxHQUFHLEdBQUcsR0FBRyxJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNoQyxNQUFNLEVBQUUsR0FBRyxJQUFJLEdBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUV6QixPQUFPLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDaEIsTUFBTSxFQUFFLE1BQU07UUFDZCxHQUFHLEVBQUUsR0FBRztRQUNSLElBQUksRUFBRSxNQUFNLEdBQUcsQ0FBQyxRQUFRLEVBQUU7S0FDN0IsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ2pCLENBQUM7QUFWRCxnQkFVQyIsInNvdXJjZXNDb250ZW50IjpbImxldCBBV1M6IGFueSA9IHVuZGVmaW5lZDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHMzKGltZywge2xvY2F0aW9ufTogYW55KSB7XG4gICAgY29uc3QgW2J1Y2tldCwga2V5XSA9IGxvY2F0aW9uLnNwbGl0KCcvJyk7XG4gICAgQVdTID0gQVdTIHx8IHJlcXVpcmUoJ2F3cy1zZGsnKTtcbiAgICBjb25zdCBzMyA9IG5ldyBBV1MhLlMzKCk7XG5cbiAgICByZXR1cm4gczMucHV0T2JqZWN0KHtcbiAgICAgICAgQnVja2V0OiBidWNrZXQsXG4gICAgICAgIEtleToga2V5LFxuICAgICAgICBCb2R5OiBhd2FpdCBpbWcudG9CdWZmZXIoKSxcbiAgICB9KS5wcm9taXNlKCk7XG59Il19
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function operate(img, { rx, ry }) {
    const { width, height } = await img.metadata();
    rx = parseFloat(`${rx || 0}`);
    ry = parseFloat(`${ry || rx}`);
    img.composite([{
            input: Buffer.from(`<svg><rect x="0" y="0" width="${width}" height="${height}" rx="${rx}" ry="${ry}"/></svg>`),
            blend: 'dest-in'
        }]);
}
exports.default = operate;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91bmRfY29ybmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL29wZXJhdGlvbnMvcm91bmRfY29ybmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRWUsS0FBSyxVQUFVLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUF5QjtJQUN2RSxNQUFNLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzdDLEVBQUUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQVEsQ0FBQztJQUNyQyxFQUFFLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFRLENBQUM7SUFDdEMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ1gsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUNBQWlDLEtBQUssYUFBYSxNQUFNLFNBQVMsRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDO1lBQzlHLEtBQUssRUFBRSxTQUFTO1NBQ25CLENBQUMsQ0FBQyxDQUFDO0FBQ1IsQ0FBQztBQVJELDBCQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyb3VuZF9jb3JuZXJfb3BlcmF0aW9ufSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIG9wZXJhdGUoaW1nLCB7cngsIHJ5fTogcm91bmRfY29ybmVyX29wZXJhdGlvbikge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGF3YWl0IGltZy5tZXRhZGF0YSgpO1xuICAgIHJ4ID0gcGFyc2VGbG9hdChgJHtyeCB8fCAwfWApIGFzIGFueTtcbiAgICByeSA9IHBhcnNlRmxvYXQoYCR7cnkgfHwgcnh9YCkgYXMgYW55O1xuICAgIGltZy5jb21wb3NpdGUoW3tcbiAgICAgICAgaW5wdXQ6IEJ1ZmZlci5mcm9tKGA8c3ZnPjxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIiR7d2lkdGh9XCIgaGVpZ2h0PVwiJHtoZWlnaHR9XCIgcng9XCIke3J4fVwiIHJ5PVwiJHtyeX1cIi8+PC9zdmc+YCksXG4gICAgICAgIGJsZW5kOiAnZGVzdC1pbidcbiAgICB9XSk7XG59XG4iXX0=
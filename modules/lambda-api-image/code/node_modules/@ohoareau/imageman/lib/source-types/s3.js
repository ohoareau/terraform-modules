"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let AWS = undefined;
async function s3({ location }) {
    const [bucket, key] = location.split('/');
    AWS = AWS || require('aws-sdk');
    const s3 = new AWS.S3();
    return (await s3.getObject({
        Bucket: bucket,
        Key: key,
    }).promise()).Body;
}
exports.s3 = s3;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc291cmNlLXR5cGVzL3MzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxHQUFHLEdBQVEsU0FBUyxDQUFDO0FBRWxCLEtBQUssVUFBVSxFQUFFLENBQUMsRUFBQyxRQUFRLEVBQU07SUFDcEMsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFDLEdBQUcsR0FBRyxHQUFHLElBQUksT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sRUFBRSxHQUFHLElBQUksR0FBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO0lBRXpCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDdkIsTUFBTSxFQUFFLE1BQU07UUFDZCxHQUFHLEVBQUUsR0FBRztLQUNYLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUN2QixDQUFDO0FBVEQsZ0JBU0MiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgQVdTOiBhbnkgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzMyh7bG9jYXRpb259OiBhbnkpIHtcbiAgICBjb25zdCBbYnVja2V0LCBrZXldID0gbG9jYXRpb24uc3BsaXQoJy8nKTtcbiAgICBBV1MgPSBBV1MgfHwgcmVxdWlyZSgnYXdzLXNkaycpO1xuICAgIGNvbnN0IHMzID0gbmV3IEFXUyEuUzMoKTtcblxuICAgIHJldHVybiAoYXdhaXQgczMuZ2V0T2JqZWN0KHtcbiAgICAgICAgQnVja2V0OiBidWNrZXQsXG4gICAgICAgIEtleToga2V5LFxuICAgIH0pLnByb21pc2UoKSkuQm9keTtcbn0iXX0=
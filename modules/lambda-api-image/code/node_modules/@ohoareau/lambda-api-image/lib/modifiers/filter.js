"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function filter(order, request) {
    var _a;
    const filter = (_a = request.params) === null || _a === void 0 ? void 0 : _a.filter;
    if (!filter)
        return;
    const filters = Array.isArray(filter) ? filter : [filter];
    return filters.reduce((acc, f) => {
        switch (f) {
            case 'grayscale':
                acc.operations.push({ type: 'grayscale' });
                break;
            default: break;
        }
        return acc;
    }, order);
}
exports.filter = filter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZGlmaWVycy9maWx0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFTyxLQUFLLFVBQVUsTUFBTSxDQUFDLEtBQVksRUFBRSxPQUFnQjs7SUFDdkQsTUFBTSxNQUFNLFNBQUcsT0FBTyxDQUFDLE1BQU0sMENBQUUsTUFBTSxDQUFDO0lBQ3RDLElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTztJQUNwQixNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDMUQsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzdCLFFBQVEsQ0FBQyxFQUFFO1lBQ1AsS0FBSyxXQUFXO2dCQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLFdBQVcsRUFBQyxDQUFDLENBQUM7Z0JBQUMsTUFBTTtZQUNsRSxPQUFPLENBQUMsQ0FBQyxNQUFNO1NBQ2xCO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDZCxDQUFDO0FBWEQsd0JBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge29yZGVyLCByZXF1ZXN0fSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaWx0ZXIob3JkZXI6IG9yZGVyLCByZXF1ZXN0OiByZXF1ZXN0KSB7XG4gICAgY29uc3QgZmlsdGVyID0gcmVxdWVzdC5wYXJhbXM/LmZpbHRlcjtcbiAgICBpZiAoIWZpbHRlcikgcmV0dXJuO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBBcnJheS5pc0FycmF5KGZpbHRlcikgPyBmaWx0ZXIgOiBbZmlsdGVyXTtcbiAgICByZXR1cm4gZmlsdGVycy5yZWR1Y2UoKGFjYywgZikgPT4ge1xuICAgICAgICBzd2l0Y2ggKGYpIHtcbiAgICAgICAgICAgIGNhc2UgJ2dyYXlzY2FsZSc6IGFjYy5vcGVyYXRpb25zLnB1c2goe3R5cGU6ICdncmF5c2NhbGUnfSk7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBvcmRlcik7XG59Il19
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function filter(order, request) {
    var _a;
    const filter = (_a = request.qsParams) === null || _a === void 0 ? void 0 : _a.filter;
    if (!filter)
        return;
    const filters = Array.isArray(filter) ? filter : [filter];
    return filters.reduce((acc, f) => {
        switch (f) {
            case 'grayscale':
                acc.operations.push({ type: 'grayscale' });
                break;
            default: break;
        }
        return acc;
    }, order);
}
exports.filter = filter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZGlmaWVycy9maWx0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHTyxLQUFLLFVBQVUsTUFBTSxDQUFDLEtBQVksRUFBRSxPQUFxQjs7SUFDNUQsTUFBTSxNQUFNLFNBQUcsT0FBTyxDQUFDLFFBQVEsMENBQUUsTUFBTSxDQUFDO0lBQ3hDLElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTztJQUNwQixNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDMUQsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzdCLFFBQVEsQ0FBQyxFQUFFO1lBQ1AsS0FBSyxXQUFXO2dCQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLFdBQVcsRUFBQyxDQUFDLENBQUM7Z0JBQUMsTUFBTTtZQUNsRSxPQUFPLENBQUMsQ0FBQyxNQUFNO1NBQ2xCO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDZCxDQUFDO0FBWEQsd0JBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge29yZGVyfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2h0dHBfcmVxdWVzdH0gZnJvbSAnQG9ob2FyZWF1L2xhbWJkYS11dGlscyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaWx0ZXIob3JkZXI6IG9yZGVyLCByZXF1ZXN0OiBodHRwX3JlcXVlc3QpIHtcbiAgICBjb25zdCBmaWx0ZXIgPSByZXF1ZXN0LnFzUGFyYW1zPy5maWx0ZXI7XG4gICAgaWYgKCFmaWx0ZXIpIHJldHVybjtcbiAgICBjb25zdCBmaWx0ZXJzID0gQXJyYXkuaXNBcnJheShmaWx0ZXIpID8gZmlsdGVyIDogW2ZpbHRlcl07XG4gICAgcmV0dXJuIGZpbHRlcnMucmVkdWNlKChhY2MsIGYpID0+IHtcbiAgICAgICAgc3dpdGNoIChmKSB7XG4gICAgICAgICAgICBjYXNlICdncmF5c2NhbGUnOiBhY2Mub3BlcmF0aW9ucy5wdXNoKHt0eXBlOiAnZ3JheXNjYWxlJ30pOyBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgb3JkZXIpO1xufSJdfQ==
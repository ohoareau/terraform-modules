"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const buildOrder_1 = __importDefault(require("../utils/buildOrder"));
const imageman_1 = __importDefault(require("@ohoareau/imageman"));
async function imageman(ctx) {
    const { options, ...order } = await buildOrder_1.default(ctx);
    const buffer = await imageman_1.default(order);
    return ctx.helpers.buffer({ buffer, ...options });
}
exports.imageman = imageman;
exports.default = imageman;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2VtYW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYWN0aW9ucy9pbWFnZW1hbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLHFFQUE2QztBQUM3QyxrRUFBd0Q7QUFFakQsS0FBSyxVQUFVLFFBQVEsQ0FBQyxHQUFRO0lBQ25DLE1BQU0sRUFBQyxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUMsR0FBRyxNQUFNLG9CQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFLbEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxrQkFBSyxDQUFDLEtBQXNCLENBQUMsQ0FBQztJQUluRCxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUMsTUFBTSxFQUFFLEdBQUcsT0FBTyxFQUFDLENBQUMsQ0FBQztBQUNwRCxDQUFDO0FBWEQsNEJBV0M7QUFFRCxrQkFBZSxRQUFRLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2N0eCwgaHR0cF9yZXNwb25zZX0gZnJvbSBcIkBvaG9hcmVhdS9sYW1iZGEtdXRpbHNcIjtcbmltcG9ydCBidWlsZE9yZGVyIGZyb20gXCIuLi91dGlscy9idWlsZE9yZGVyXCI7XG5pbXBvcnQgYnVpbGQsIHtpbWFnZW1hbl9hcmdzfSBmcm9tIFwiQG9ob2FyZWF1L2ltYWdlbWFuXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbWFnZW1hbihjdHg6IGN0eCk6IFByb21pc2U8aHR0cF9yZXNwb25zZT4ge1xuICAgIGNvbnN0IHtvcHRpb25zLCAuLi5vcmRlcn0gPSBhd2FpdCBidWlsZE9yZGVyKGN0eCk7XG5cbiAgICAvLyB0aGUgb3JkZXIgaXMgc2hhcGVkLCB3ZSBub3cgY2FsbCB0aGUgaW1hZ2VtYW4gcHJvY2Vzc29yIGFuZCByZXR1cm5cbiAgICAvLyB0aGUgY29udGVudCBvZiB0aGUgcmVzdWx0aW5nIGJ1ZmZlciBmcm9tIGltYWdlbWFuXG5cbiAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBidWlsZChvcmRlciBhcyBpbWFnZW1hbl9hcmdzKTtcblxuICAgIC8vIHRoZSBmaW5hbCByZXNwb25zZSB3aWxsIGJlIGNvbXBhdGlibGUgd2l0aCBBUEkgR2F0ZXdheSAoc3RhdHVzQ29kZSwgYm9keSwgLi4uKVxuXG4gICAgcmV0dXJuIGN0eC5oZWxwZXJzLmJ1ZmZlcih7YnVmZmVyLCAuLi5vcHRpb25zfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGltYWdlbWFuIl19
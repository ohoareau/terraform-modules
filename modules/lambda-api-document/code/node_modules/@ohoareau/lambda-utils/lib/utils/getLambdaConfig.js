"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let config = undefined;
const root = process.env.LAMBDA_TASK_ROOT;
async function getLambdaConfig() {
    if (config)
        return config;
    config = config || { root, ...(await require(`${root}/config`)()) };
    config.statics = { ...(config.statics || {}), ...(await require(`${root}/config-statics`)()) };
    config.routes = [...(await require(`${root}/config-routes`)()), ...(config.routes || [])];
    return config;
}
exports.getLambdaConfig = getLambdaConfig;
exports.default = getLambdaConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0TGFtYmRhQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2dldExhbWJkYUNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksTUFBTSxHQUFrQixTQUFTLENBQUM7QUFDdEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztBQUVuQyxLQUFLLFVBQVUsZUFBZTtJQUNqQyxJQUFJLE1BQU07UUFBRSxPQUFPLE1BQU0sQ0FBQztJQUUxQixNQUFNLEdBQUcsTUFBTSxJQUFJLEVBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxNQUFNLE9BQU8sQ0FBQyxHQUFHLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFDLENBQUM7SUFDbEUsTUFBTSxDQUFDLE9BQU8sR0FBRyxFQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLE9BQU8sQ0FBQyxHQUFHLElBQUksaUJBQWlCLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQTtJQUM1RixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sT0FBTyxDQUFDLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRTFGLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFSRCwwQ0FRQztBQUVELGtCQUFlLGVBQWUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImxldCBjb25maWc6IGFueXx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5jb25zdCByb290ID0gcHJvY2Vzcy5lbnYuTEFNQkRBX1RBU0tfUk9PVDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbWJkYUNvbmZpZygpIHtcbiAgICBpZiAoY29uZmlnKSByZXR1cm4gY29uZmlnO1xuXG4gICAgY29uZmlnID0gY29uZmlnIHx8IHtyb290LCAuLi4oYXdhaXQgcmVxdWlyZShgJHtyb290fS9jb25maWdgKSgpKX07XG4gICAgY29uZmlnLnN0YXRpY3MgPSB7Li4uKGNvbmZpZy5zdGF0aWNzIHx8IHt9KSwgLi4uKGF3YWl0IHJlcXVpcmUoYCR7cm9vdH0vY29uZmlnLXN0YXRpY3NgKSgpKX1cbiAgICBjb25maWcucm91dGVzID0gWy4uLihhd2FpdCByZXF1aXJlKGAke3Jvb3R9L2NvbmZpZy1yb3V0ZXNgKSgpKSwgLi4uKGNvbmZpZy5yb3V0ZXMgfHwgW10pXTtcblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldExhbWJkYUNvbmZpZyJdfQ==
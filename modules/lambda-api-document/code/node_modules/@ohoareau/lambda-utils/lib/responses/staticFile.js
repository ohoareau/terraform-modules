"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function staticFile({ root, name, contentType, headers = {}, cache = undefined, statusCode = 200 }) {
    return {
        body: require('fs').readFileSync(`${root}/statics/${name}`, null).toString('base64'),
        isBase64Encoded: true,
        statusCode,
        headers: {
            'Cache-Control': 'public, max-age=60, s-max-age=60',
            'Content-Type': contentType,
            ...headers,
            ...(cache ? { 'Cache-Control': cache } : {}),
        }
    };
}
exports.staticFile = staticFile;
exports.default = staticFile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljRmlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXNwb25zZXMvc3RhdGljRmlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFPLEtBQUssVUFBVSxVQUFVLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxPQUFPLEdBQUcsRUFBRSxFQUFFLEtBQUssR0FBRyxTQUFTLEVBQUUsVUFBVSxHQUFHLEdBQUcsRUFBQztJQUN6RyxPQUFPO1FBQ0gsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJLFlBQVksSUFBSSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztRQUNwRixlQUFlLEVBQUUsSUFBSTtRQUNyQixVQUFVO1FBQ1YsT0FBTyxFQUFFO1lBQ0wsZUFBZSxFQUFFLGtDQUFrQztZQUNuRCxjQUFjLEVBQUUsV0FBVztZQUMzQixHQUFHLE9BQU87WUFDVixHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQzdDO0tBQ0osQ0FBQTtBQUNMLENBQUM7QUFaRCxnQ0FZQztBQUVELGtCQUFlLFVBQVUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGF0aWNGaWxlKHtyb290LCBuYW1lLCBjb250ZW50VHlwZSwgaGVhZGVycyA9IHt9LCBjYWNoZSA9IHVuZGVmaW5lZCwgc3RhdHVzQ29kZSA9IDIwMH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5OiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhgJHtyb290fS9zdGF0aWNzLyR7bmFtZX1gLCBudWxsKS50b1N0cmluZygnYmFzZTY0JyksXG4gICAgICAgIGlzQmFzZTY0RW5jb2RlZDogdHJ1ZSxcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAncHVibGljLCBtYXgtYWdlPTYwLCBzLW1heC1hZ2U9NjAnLCAvLyBkZWZhdWx0LCBjYW4gYmUgb3ZlcnJpZGRlblxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICAgIC4uLihjYWNoZSA/IHsnQ2FjaGUtQ29udHJvbCc6IGNhY2hlfSA6IHt9KSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RhdGljRmlsZSJdfQ==
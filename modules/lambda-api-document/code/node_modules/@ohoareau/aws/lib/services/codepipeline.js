"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const awscp = new (require('aws-sdk/clients/codepipeline'))({ region: process.env.AWS_CODEPIPELINE_REGION || process.env.AWS_REGION });
exports.codepipeline = {
    startPipeline: async (name) => awscp.startPipelineExecution({ name }).promise(),
    stopPipelineExecution: async (name, executionId, reason = undefined, abandon = true) => awscp.stopPipelineExecution({
        pipelineName: name,
        pipelineExecutionId: executionId,
        abandon,
        reason,
    }).promise(),
    getPipelineState: async (name) => awscp.getPipelineState({ name }).promise(),
};
exports.default = exports.codepipeline;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZXBpcGVsaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlcnZpY2VzL2NvZGVwaXBlbGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLEVBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO0FBRXhILFFBQUEsWUFBWSxHQUFHO0lBQ3hCLGFBQWEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDMUIsS0FBSyxDQUFDLHNCQUFzQixDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUU7SUFFbEQscUJBQXFCLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsU0FBMkIsU0FBUyxFQUFFLFVBQW1CLElBQUksRUFBRSxFQUFFLENBQzlHLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQztRQUN4QixZQUFZLEVBQUUsSUFBSTtRQUNsQixtQkFBbUIsRUFBRSxXQUFXO1FBQ2hDLE9BQU87UUFDUCxNQUFNO0tBQ1QsQ0FBQyxDQUFDLE9BQU8sRUFBRTtJQUVoQixnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDN0IsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUU7Q0FFL0MsQ0FBQTtBQUVELGtCQUFlLG9CQUFZLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhd3NjcCA9IG5ldyAocmVxdWlyZSgnYXdzLXNkay9jbGllbnRzL2NvZGVwaXBlbGluZScpKSh7cmVnaW9uOiBwcm9jZXNzLmVudi5BV1NfQ09ERVBJUEVMSU5FX1JFR0lPTiB8fCBwcm9jZXNzLmVudi5BV1NfUkVHSU9OfSk7XG5cbmV4cG9ydCBjb25zdCBjb2RlcGlwZWxpbmUgPSB7XG4gICAgc3RhcnRQaXBlbGluZTogYXN5bmMgKG5hbWUpID0+XG4gICAgICAgIGF3c2NwLnN0YXJ0UGlwZWxpbmVFeGVjdXRpb24oe25hbWV9KS5wcm9taXNlKClcbiAgICAsXG4gICAgc3RvcFBpcGVsaW5lRXhlY3V0aW9uOiBhc3luYyAobmFtZSwgZXhlY3V0aW9uSWQsIHJlYXNvbjogc3RyaW5nfHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgYWJhbmRvbjogYm9vbGVhbiA9IHRydWUpID0+XG4gICAgICAgIGF3c2NwLnN0b3BQaXBlbGluZUV4ZWN1dGlvbih7XG4gICAgICAgICAgICBwaXBlbGluZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwaXBlbGluZUV4ZWN1dGlvbklkOiBleGVjdXRpb25JZCxcbiAgICAgICAgICAgIGFiYW5kb24sXG4gICAgICAgICAgICByZWFzb24sXG4gICAgICAgIH0pLnByb21pc2UoKVxuICAgICxcbiAgICBnZXRQaXBlbGluZVN0YXRlOiBhc3luYyAobmFtZSkgPT5cbiAgICAgICAgYXdzY3AuZ2V0UGlwZWxpbmVTdGF0ZSh7bmFtZX0pLnByb21pc2UoKVxuICAgICxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29kZXBpcGVsaW5lIl19
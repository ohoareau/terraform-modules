"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const awsses = new (require('aws-sdk/clients/ses'))({ region: process.env.AWS_SES_REGION || process.env.AWS_REGION });
exports.ses = {
    sendEmail: async ({ source, sourceArn, to = [], cc = [], bcc = [], replyTo = [], body, bodyText, subject }) => awsses.sendEmail({
        Destination: {
            BccAddresses: bcc,
            CcAddresses: cc,
            ToAddresses: to,
        },
        Message: {
            Body: {
                ...(body ? { Html: { Charset: 'UTF-8', Data: body } } : {}),
                ...(bodyText ? { Text: { Charset: 'UTF-8', Data: bodyText } } : {}),
            },
            Subject: {
                Charset: 'UTF-8',
                Data: subject,
            }
        },
        ReplyToAddresses: replyTo,
        Source: source,
        SourceArn: sourceArn,
    }).promise(),
};
exports.default = exports.ses;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NlcnZpY2VzL3Nlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLEVBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztBQUV2RyxRQUFBLEdBQUcsR0FBRztJQUNmLFNBQVMsRUFBRSxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLE9BQU8sR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUMsRUFBRSxFQUFFLENBQ3hHLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDYixXQUFXLEVBQUU7WUFDVCxZQUFZLEVBQUUsR0FBRztZQUNqQixXQUFXLEVBQUUsRUFBRTtZQUNmLFdBQVcsRUFBRSxFQUFFO1NBQ2xCO1FBQ0QsT0FBTyxFQUFFO1lBQ0wsSUFBSSxFQUFFO2dCQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUN2RCxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzthQUNsRTtZQUNELE9BQU8sRUFBRTtnQkFDTCxPQUFPLEVBQUUsT0FBTztnQkFDaEIsSUFBSSxFQUFFLE9BQU87YUFDaEI7U0FDSjtRQUNELGdCQUFnQixFQUFFLE9BQU87UUFHekIsTUFBTSxFQUFFLE1BQU07UUFDZCxTQUFTLEVBQUUsU0FBUztLQUN2QixDQUFDLENBQUMsT0FBTyxFQUFFO0NBRW5CLENBQUE7QUFFRCxrQkFBZSxXQUFHLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhd3NzZXMgPSBuZXcgKHJlcXVpcmUoJ2F3cy1zZGsvY2xpZW50cy9zZXMnKSkoe3JlZ2lvbjogcHJvY2Vzcy5lbnYuQVdTX1NFU19SRUdJT04gfHwgcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTn0pO1xuXG5leHBvcnQgY29uc3Qgc2VzID0ge1xuICAgIHNlbmRFbWFpbDogYXN5bmMgKHtzb3VyY2UsIHNvdXJjZUFybiwgdG8gPSBbXSwgY2MgPSBbXSwgYmNjID0gW10sIHJlcGx5VG8gPSBbXSwgYm9keSwgYm9keVRleHQsIHN1YmplY3R9KSA9PlxuICAgICAgICBhd3NzZXMuc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIERlc3RpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgQmNjQWRkcmVzc2VzOiBiY2MsXG4gICAgICAgICAgICAgICAgQ2NBZGRyZXNzZXM6IGNjLFxuICAgICAgICAgICAgICAgIFRvQWRkcmVzc2VzOiB0byxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBNZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgQm9keToge1xuICAgICAgICAgICAgICAgICAgICAuLi4oYm9keSA/IHtIdG1sOiB7Q2hhcnNldDogJ1VURi04JywgRGF0YTogYm9keX19IDoge30pLFxuICAgICAgICAgICAgICAgICAgICAuLi4oYm9keVRleHQgPyB7VGV4dDoge0NoYXJzZXQ6ICdVVEYtOCcsIERhdGE6IGJvZHlUZXh0fX0gOiB7fSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBTdWJqZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgIENoYXJzZXQ6ICdVVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgIERhdGE6IHN1YmplY3QsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlcGx5VG9BZGRyZXNzZXM6IHJlcGx5VG8sXG4vLyAgICAgICAgICAgIFJldHVyblBhdGg6IHNvdXJjZSxcbi8vICAgICAgICAgICAgUmV0dXJuUGF0aEFybjogc291cmNlQXJuLFxuICAgICAgICAgICAgU291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICBTb3VyY2VBcm46IHNvdXJjZUFybixcbiAgICAgICAgfSkucHJvbWlzZSgpXG4gICAgLFxufVxuXG5leHBvcnQgZGVmYXVsdCBzZXMiXX0=